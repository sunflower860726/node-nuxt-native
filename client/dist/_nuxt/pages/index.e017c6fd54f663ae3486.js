webpackJsonp([11],{"+ptz":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"section"},[a("div",{staticClass:"container"},[a("div",{staticClass:"level"},[a("div",{staticClass:"level-left"}),a("div",{staticClass:"level-right"},[a("div",{staticClass:"level-item"},[a("nuxt-link",{staticClass:"button is-primary",attrs:{to:"invite"}},[t._v("Invite")])],1)])]),a("b-table",{attrs:{data:t.tableData,hoverable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.patientEmail?a("b-table-column",{attrs:{label:"Name",height:"60"}},[a("span",[t._v(t._s(e.row.token))])]):a("b-table-column",{attrs:{label:"Name",height:"60"}},[e.row.generalConsent?a("nuxt-link",{attrs:{to:{path:e.row._id}}},[t._v(t._s(e.row.name))]):a("span",[t._v(t._s(e.row.name))])],1),e.row.patientEmail?a("b-table-column",{attrs:{label:"Email",height:"60"}},[a("span",[t._v(t._s(e.row.patientEmail))])]):a("b-table-column",{attrs:{label:"Email"}},[e.row.generalConsent?a("nuxt-link",{attrs:{to:{path:e.row._id}}},[t._v(t._s(e.row.email))]):a("span",[t._v(t._s(e.row.email))])],1),e.row.patientEmail?a("b-table-column",{attrs:{label:"Status",height:"60"}},[t._v("\n\t\t\t\t\t\t"+t._s("Invited "+e.row.sent)+"\n\t\t\t\t\t")]):a("b-table-column",{attrs:{label:"Status"}},[t._v("\n            "+t._s(e.row.generalConsent?"Consented":"Declined")+"\n          ")]),a("b-table-column",{staticStyle:{padding:"0px"},attrs:{label:"",numeric:""}},[e.row.patientEmail?a("a",{staticClass:"button is-primary",staticStyle:{"margin-right":"10px"},on:{click:function(a){t.resend(e.row._id)}}},[t._v("Re-Send")]):t._e(),e.row.patientEmail?a("a",{staticClass:"button is-danger",on:{click:function(a){t.deleteInvite(e.row._id)}}},[t._v("Delete")]):t._e()])]}}])})],1)])};n._withStripped=!0;var i={render:n,staticRenderFns:[]};e.a=i},"/TYz":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("bCec"),i=a("+ptz"),s=!1;var l=function(t){s||a("CuQh")},o=a("VU/8")(n.a,i.a,!1,l,null,null);o.options.__file="pages/index.vue",e.default=o.exports},CuQh:function(t,e,a){var n=a("ZIXq");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("rjj0")("8343da88",n,!1,{sourceMap:!1})},ZIXq:function(t,e,a){(t.exports=a("FZ+f")(!1)).push([t.i,".table td,.table th{vertical-align:middle}",""])},bCec:function(t,e,a){"use strict";var n=a("Dd8w"),i=a.n(n),s=a("//Fk"),l=a.n(s),o=a("NYxO"),r=a("Eoz/"),c=a.n(r);e.a={layout:"authenticated",data:function(){return{}},mounted:function(){var t=this;l.a.all([this.findPatients(),this.findInvites()]).catch(function(e){console.log(e.message),e&&401===e.code&&t.$router.push("login")})},computed:i()({},Object(o.mapGetters)({patients:"patients/list",invites:"invites/list"}),{tableData:function(){var t=this.patients.concat(this.invites);return t}}),methods:i()({},Object(o.mapActions)({findPatients:"patients/find",findInvites:"invites/find",patchInvite:"invites/patch",deleteInvite:"invites/remove"}),{resend:function(t){this.patchInvite([t,{sent:c()(new Date,"YYYY-MM-DD HH:mm:ss")}])}})}}});